function promAjax(a){return new Promise(function(c,b){$.ajax(a).done(c).fail(b)})}function loadedGmap(){var f=new google.maps.LatLng(6.593691,3.352847);var a=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:60}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{visibility:"on"},{lightness:30}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ef8c25"},{lightness:40}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#b6c54c"},{lightness:40},{saturation:-40}]},{}];var b={zoom:15,center:f,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:true,mapTypeControl:false,scrollwheel:false,styles:a,disableDoubleClickZoom:true};var d=new google.maps.Map(document.getElementById("google_map"),b);var e=new google.maps.Marker({position:f,map:d});google.maps.event.addListener(e,"click",function(){c.open(d,e)});var c=new google.maps.InfoWindow({content:'<h5 class="info"><strong>This is our HQ </strong><br><br>You can find us at<br> 32846 Sydney</h5>'})}$(".carousel.three .item").each(function(){var a=$(this).next();if(!a.length){a=$(this).siblings(":first")}a.children(":first-child").clone().appendTo($(this));if(a.next().length>0){a.next().children(":first-child").clone().appendTo($(this))}else{$(this).siblings(":first").children(":first-child").clone().appendTo($(this))}});function validateEmail(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}$(document).ready(function(){$("form.form-email").submit(function(j){if(j.preventDefault){j.preventDefault()}else{j.returnValue=false}var c=$(this).closest("form.form-email");var d=c.find("button");d.prop("disabled",true);var o=c.find(".form-input-email");var n=c.find(".form-input-name");var a=c.find(".form-input-message");var k=c.find("[name=g-recaptcha-response]")[0];console.log(k);if(c.attr("data-form-type").indexOf("nob")>-1){var g=o.val(),h="",l="Message from "+n.val(),b=a.val(),m="<p>"+a.val()+"<p>",i=n.val(),f="Fakey McFakeName",k=k.value;console.log(k);if(validateEmail(g)){var p=JSON.stringify({sendFrom:g,fromName:i,sendTo:h,toName:f,subject:l,msg:b,msgHTML:m,captcha:k})}$.ajax({url:"../html_elements/mailer.php",crossDomain:false,data:p,method:"POST",cache:false,dataType:"json",contentType:"application/json; charset=utf-8",success:function(q){console.log(q);var e=q;d.removeClass("btn-primary");if(e.success){o.val("");n.val("");a.val("");d.html("Received");d.addClass("btn-success")}else{d.html("Sorry an error occurred");d.addClass("btn-danger")}d.prop("disabled",false);grecaptcha.reset()},error:function(e){console.log("Email was not sent successfully.");console.log(e);d.html("Sorry an error occured");d.removeClass("btn-primary");d.addClass("btn-danger");d.prop("disabled",false);grecaptcha.reset()}})}})});$(document).ready(function(a){if($("body").hasClass("donate-page")){$("#nob-paystack-card-form").submit(function(L){if(L.preventDefault){L.preventDefault()}else{L.returnValue=false}var y=$(this).closest("#nob-paystack-card-form");var h=y.find("button");var A=y.find(".form-input-card");var H=y.find(".form-input-name");var v=y.find(".form-input-amount");var M=y.find(".form-input-email");var J=y.find(".form-input-cvv");var o=y.find(".form-input-exp-m");var x=y.find(".form-input-exp-y");var E=y.find(".form-input-pin");var n=y.find(".form-input-name-first");var b=y.find(".form-input-name-last");var B=y.find(".form-input-number-phone");var I=y.find(".form-input-address");var w=y.find(".form-input-address-opt");var d=y.find(".form-input-city");var N=y.find(".form-input-postal");var C=y.find(".form-input-country");var k=y.find(".form-input-state");var g=A.val(),l=H.val(),f=parseInt(v.val())*100,s=M.val(),G=parseInt(J.val()),i=parseInt(o.val()),c=parseInt(x.val()),z=parseInt(E.val()),D=n.val(),r=b.val(),j=parseInt(B.val()),t=I.val(),u=w.val(),m=d.val(),p=N.val(),F=C.val(),O=k.val();var q={EMAIL:s,AMOUNT:f};var K;promAjax({url:"https://dolly-v2-pr-26.herokuapp.com/html_elements/paystack/authorize",method:"POST",cache:false,dataType:"JSON",data:q}).then(function(P){console.log(P);if(!P.status){return this.reject({status:false,reason:"error-1"})}var e=P.data;return Paystack.init({form:"nob-paystack-card-form",access_code:e.access_code})}).then(function(e){console.log(e);K=e;return K.card.charge({})}).then(function(e){console.log(e);var P={data:{firstName:D,lastName:r,email:s,phone:j,street:t,streetOpt:u,city:m,postal:p,country:F,state:O,referenceID:e.data.reference}};$.ajax({url:"html_elements/paystack/db-log.php",method:"POST",dataType:"JSON",data:P,success:function(Q){console.log(Q)},error:function(Q){console.log(Q)}})}).then(function(e){console.log(e);A.val("");H.val("");v.val("");M.val("");J.val("");o.val("");x.val("");n.val("");b.val("");B.val("");I.val("");w.val("");d.val("");N.val("");C.val("");k.val("");h.html("Received");h.addClass("btn-success")},function(e){console.log(e)})})}});